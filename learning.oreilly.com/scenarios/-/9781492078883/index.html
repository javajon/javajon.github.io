<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Distilled JRE Apps in Containers</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="Applying the Distillation Pattern to Containers."><meta name=author content="Jonathan Johnson"><meta name=generator content="Hugo 0.78.2"><link rel=stylesheet href=https://www.dijure.com/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://www.dijure.com/plugins/slick/slick.css><link rel=stylesheet href=https://www.dijure.com/plugins/animate/animate.css><link rel=stylesheet href=https://www.dijure.com/plugins/venobox/venobox.css><link rel=stylesheet href=https://www.dijure.com/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://www.dijure.com/plugins/Ionicons/css/ionicons.min.css><link rel=stylesheet href=https://www.dijure.com/scss/style.css media=screen><link rel="shortcut icon" href=https://www.dijure.com/images/favicon.png type=image/x-icon><link rel=icon href=https://www.dijure.com/images/favicon.png type=image/x-icon></head><body><header class="fixed-top header"><div class="top-header py-2 bg-white"><div class=container><div class="row no-gutters align-items-center"><div class="col-lg-4 text-center text-lg-left"><ul class=list-inline><li class="list-inline-item mx-0"><a class="d-inline-block p-2 text-color" href=https://www.linkedin.com/in/javajon/><i class=ti-linkedin></i></a></li><li class="list-inline-item mx-0"><a class="d-inline-block p-2 text-color" href=https://github.com/><i class=ti-github></i></a></li></ul></div><div class="col-lg-8 text-center text-lg-right"><ul class=list-inline><li class=list-inline-item><a class=text-color href=mailto:jonathan.johnson@dijure.com><strong>EMAIL :</strong> jonathan.johnson@dijure.com</a></li></ul></div></div></div></div><div class="navigation w-100 top-hider"><div class=container><nav class="navbar navbar-expand-lg navbar-dark p-0"><a class=navbar-brand href=https://www.dijure.com/><img class=img-fluid src=https://www.dijure.com/images/company/dijure-logo-small.png alt="Dijure | Digital Architectures with a hint of Java"></a>
<button class="navbar-toggler rounded-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://www.dijure.com/>Home</a></li><li class=nav-item><a class=nav-link href=https://www.dijure.com/about>About</a></li><li class=nav-item><a class=nav-link href=https://www.dijure.com/services>Services</a></li><li class=nav-item><a class=nav-link href=https://www.dijure.com/event>Events</a></li><li class=nav-item><a class=nav-link href=https://www.dijure.com/lab>Labs</a></li><li class=nav-item><a class=nav-link href=https://www.dijure.com/contact>Contact</a></li></ul></div></nav></div></div></header><section class="page-title-section overlay" style=background-image:url(/images/backgrounds/page-title.jpg),url(/images/backgrounds/page-title.jpg)><div class=container><div class=row><div class=col-md-12><ul class="list-inline custom-breadcrumb"><li class="list-inline-item h2"><a class="text-primary font-secondary" href=https://www.dijure.com/>Home</a></li><li class="list-inline-item h5"><i class="ti-angle-right text-white"></i></li><li class="list-inline-item text-white h4 font-secondary">Distilled JRE Apps in Containers</li></ul><p class=text-lighten>Applying the Distillation Pattern to Containers.</p><div class=description-header-row><div class=description-row><p class=text-lighten></p></div><div class=description-row><p class=text-lighten><img src=https://www.dijure.com/images/oreilly.png style=padding:2px width=35></p></div></div></div></div></section><section class=section-sm><div class=container><div class=row><div class=col-12><h2 class=section-title></h2><h2 class=section-title>Distilled JRE Apps in Containers</h2></div><div class="col-12 mb-4">Applying the Distillation Pattern to Containers.<br></div><div class="col-12 mb-4"><img class="single-img-top rounded-0" src=https://www.dijure.com/images/labs/spring.png alt="Distilled JRE Apps in Containers"></div></div><div class=row><div class="col-12 mb-50 content"><p>The lab walks through a series of steps for distilling a container to its minimum to support your Java application.</p><p>For years one of Java&rsquo;s strengths is <em>write once, run anywhere</em>
<a href=https://en.wikipedia.org/wiki/Write_once,_run_anywhere target=_blank>(WORA)</a>
. With containers it&rsquo;s now polyglot and <em>package once, run anywhere</em>
<a href=https://www.theserverside.com/feature/How-the-Docker-Engine-simplifies-DevOps-from-staging-to-deployment target=_blank>(PORA)</a>
. All this is about writing our code to be agnostic from the target.</p><p>Java remains relevant for containers. However, it would appear between WORA and PORA there is some redundancy. If your application is running in a container and you know exactly what is in the container, why would you need a Java Runtime engine that can run anywhere? Thanks to containers they can run anywhere. What we put <em>inside</em> our containers should be statically defined and linked as natively as possible, at build time.</p><p>What if we could avoid putting a whole JRE in a container yet still deliver a working Java app? Blasphemy.</p><p>In this lab, you will learn how to:</p><p>    ☐ Build and run a simple Java application<br>    ☐ Build and run the same application with a container<br>    ☐ Use multi-stage technique for building containers<br>    ☐ Leverage Java 9+ modularity with JLink<br>    ☐ Compile Java to a native binary and run it from a container<br>    ☐ Start using GraalVM</p><h2 id=distillation-pattern>Distillation Pattern</h2><p>The distillation pattern is about applying best practices to make your containers small, simple, secure, and fast. These ideas all contribute to container distillation:</p><table><thead><tr><th>Concept</th><th>Summary</th></tr></thead><tbody><tr><td>High cohesion</td><td>All things in the container are used and purposeful</td></tr><tr><td>Low coupling</td><td>All public access is used and purposeful</td></tr><tr><td>Idempotent</td><td>Well tested and known versioned dependencies</td></tr><tr><td>Immutable</td><td>Simplicity increases when things do not change at runtime</td></tr><tr><td>Small attack surface</td><td>Remove access points like ports and file mounts</td></tr><tr><td>Small container images</td><td>Remove all things not used, reduce storage and transmit costs</td></tr><tr><td>Fast startup time</td><td>Expect ephemeral containers to fail, restart and scale</td></tr><tr><td>Fast execution time</td><td>Performance pays, CPUs and memory are limited resources</td></tr></tbody></table></div></div><div class="row align-items-center mb-5"><div class=col-lg-9><ul class=list-inline><li class="list-inline-item mr-xl-5 mr-4 mb-3 mb-lg-0"><div class="d-flex align-items-center"><i class="ti-bar-chart text-primary icon-md mr-2"></i><div class=text-left><h6 class=mb-0>LEVEL</h6><p class=mb-0>Intermediate</p></div></div></li><li class="list-inline-item mr-xl-5 mr-4 mb-3 mb-lg-0"><div class="d-flex align-items-center"><i class="ti-time text-primary icon-md mr-2"></i><div class=text-left><h6 class=mb-0>DURATION</h6><p class=mb-0>30 minutes</p></div></div></li><li class="list-inline-item mr-xl-5 mr-4 mb-3 mb-lg-0"><div class="d-flex align-items-center"><i class="ti-calendar text-primary icon-md mr-2"></i><div class=text-left><h6 class=mb-0>UPDATED</h6><p class=mb-0>31 Dec, 2021</p></div></div></li></ul></div><div class="col-lg-3 text-lg-right text-left"><a href=https://learning.oreilly.com/scenarios/-/9781492078883/ target=_blank class="btn btn-primary btn-sm"><img src=https://www.dijure.com/images/oreilly.png style="padding:10px 1px 1px" align=left width=50></img>Try It with O'Reilly Subscription</a><p></p><a href=https://katacoda.com/javajon/courses/kubernetes-containers/distillation target=_blank class="btn btn-primary btn-sm"></img>Try It without Subscription</a></div><div class="col-12 mt-4 order-4"><div class="border-bottom border-primary"></div></div></div><div class="bg-white mb-5"><h4 class=mb-4>Categories</h4><ul class="list-inline tag-list"><li class="list-inline-item mb-2"><a href=https://www.dijure.com/categories/kubernetes/ rel="category tag">Kubernetes</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/categories/containers/ rel="category tag">Containers</a></li></ul></div><div class="bg-white mb-5"><h4 class=mb-4>Tags</h4><ul class="list-inline tag-list"><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/java/ rel="category tag">Java</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/spring-boot/ rel="category tag">Spring boot</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/spring-native/ rel="category tag">Spring native</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/dockerfile/ rel="category tag">Dockerfile</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/graalvm/ rel="category tag">GraalVM</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/gradle/ rel="category tag">Gradle</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/buildpacks.io/ rel="category tag">Buildpacks.io</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/distillation/ rel="category tag">Distillation</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/kubernetes/ rel="category tag">Kubernetes</a></li><li class="list-inline-item mb-2"><a href=https://www.dijure.com/tags/containers/ rel="category tag">Containers</a></li></ul></div></div></section><footer><div class="footer bg-footer section border-bottom"><div class=container><div class=row><div class="col-lg-4 col-sm-8 mb-5 mb-lg-0"><a class=logo-footer href=https://www.dijure.com/><img class="img-fluid mb-4" src=https://www.dijure.com/images/company/dijure-logo-small.png alt="Dijure | Digital Architectures with a hint of Java"></a><ul class=list-unstyled><li class=mb-4>Connecticut, USA</li><li class=mb-4><a href=mailto:jonathan.johnson@dijure.com>jonathan.johnson@dijure.com</a></li><li class=mb-4></li></ul></div><div class="col-lg-2 col-sm-4 col-6 mb-5 mb-md-0"><h4 class="text-white mb-5 text-uppercase">links</h4><ul class=list-unstyled><li class=mb-3><a class=text-color href=https://www.dijure.com/about>About</a></li><li class=mb-3><a class=text-color href=https://www.dijure.com/services>Services</a></li><li class=mb-3><a class=text-color href=https://www.dijure.com/event>Events</a></li><li class=mb-3><a class=text-color href=https://www.dijure.com/lab>Labs</a></li><li class=mb-3><a class=text-color href=https://www.dijure.com/contact>Contact</a></li></ul></div><div class="col-lg-2 col-sm-4 col-6 mb-5 mb-md-0"><h4 class="text-white mb-5 text-uppercase"><a href=https://www.dijure.com/event>Events</a></h4><ul class=list-unstyled></ul></div></div></div></div><div class="copyright py-4 bg-footer"><div class=container><div class=row><div class="col-sm-7 text-sm-left text-center"><p class="mb-0 copyright-font">Copyright © 2022 by Dijure LLC · All rights reserved · Some design elements by Themefisher. Select images from Unsplash. Created using Hugo.</p></div><div class="col-sm-5 text-sm-right"><ul class=list-inline><li class=list-inline-item><a class="d-inline-block p-2" href=https://www.linkedin.com/in/javajon/><i class="ti-linkedin text-primary"></i></a></li><li class=list-inline-item><a class="d-inline-block p-2" href=https://github.com/><i class="ti-github text-primary"></i></a></li></ul></div></div></div></div></footer><script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgV_o5d_JHpNMvfqmGX3o9NoTwiqg5a-E"></script><script src=https://www.dijure.com/plugins/jQuery/jquery.min.js></script><script src=https://www.dijure.com/plugins/bootstrap/bootstrap.min.js></script><script src=https://www.dijure.com/plugins/slick/slick.min.js></script><script src=https://www.dijure.com/plugins/venobox/venobox.min.js></script><script src=https://www.dijure.com/plugins/filterizr/jquery.filterizr.min.js></script><script src=https://www.dijure.com/plugins/google-map/gmap.js></script><script src=https://www.dijure.com/js/script.min.js></script></body></html>